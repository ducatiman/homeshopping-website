<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>청양식 밀키트 전문몰</title>
  <style>
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
    }
    
    body { 
      font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #fefdfb;
      color: #000000;
      line-height: 1.5;
      font-size: 14px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      width: 100%;
      box-sizing: border-box;
    }
    
    .product-card {
      background: #ffffff;
      border: 1px solid #e0ede1;
      margin-bottom: 60px;
      overflow: hidden;
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
    }
    
    .product-header {
      background: #fcfbf9;
      padding: 40px 0 20px 0;
      text-align: center;
      border-bottom: 1px solid #e5e5e5;
      position: relative;
    }
    
    .product-title {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 8px;
      color: #4caf50;
      letter-spacing: -0.5px;
    }
    
    .product-subtitle {
      font-size: 14px;
      color: #666666;
      font-weight: 400;
    }
    
    .product-content {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 60px;
      padding: 40px;
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
    }
    
    .product-images {
      position: relative;
    }
    
    .image-gallery {
      position: relative;
      width: 100%;
      height: 500px;
      overflow: hidden;
      background: #f8f8f8;
    }
    
    .image-container {
      display: flex;
      width: 100%;
      height: 100%;
      transition: transform 0.3s ease;
    }
    
    .gallery-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      flex-shrink: 0;
    }
    
    /* GIF 애니메이션 제어를 위한 스타일 */
    .gallery-img[src*="gif_prod1.gif"] {
      transition: opacity 0.3s ease;
    }
    
    .gallery-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0,0,0,0.5);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 300;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .gallery-nav:hover {
      background: rgba(0,0,0,0.7);
    }
    
    .gallery-nav.prev { left: 20px; }
    .gallery-nav.next { right: 20px; }
    
    .gallery-dots {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
    }
    
    .dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255,255,255,0.5);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .dot.active {
      background: #000000;
    }
    
    .product-info {
      display: flex;
      flex-direction: column;
      gap: 40px;
    }
    
    .price-section {
      padding: 0;
    }
    
    .original-price {
      font-size: 14px;
      color: #999999;
      text-decoration: line-through;
      margin-bottom: 4px;
    }
    
    .sale-price {
      font-size: 28px;
      font-weight: 600;
      color: #000000;
      margin-bottom: 8px;
      letter-spacing: -1px;
    }
    
    .discount-badge {
      background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
      color: #ffffff;
      padding: 4px 8px;
      font-size: 12px;
      font-weight: 500;
      display: inline-block;
      border-radius: 4px;
    }
    
    .purchase-section {
      padding: 0;
    }
    
    .quantity-selector {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .quantity-label {
      font-weight: 500;
      color: #000000;
      font-size: 14px;
    }
    
    .quantity-controls {
      display: flex;
      align-items: center;
      border: 1px solid #e0ede1;
      background: #ffffff;
    }
    
    .quantity-btn {
      background: #ffffff;
      color: #000000;
      border: none;
      width: 40px;
      height: 40px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 300;
      transition: background 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .quantity-btn:hover {
      background: #f8f8f8;
    }
    
    .quantity-input {
      border: none;
      padding: 0;
      text-align: center;
      font-size: 14px;
      font-weight: 500;
      width: 60px;
      height: 40px;
      background: #ffffff;
      color: #000000;
    }
    
    .purchase-buttons {
      display: flex;
      gap: 12px;
    }
    
    .btn {
      flex: 1;
      padding: 16px 24px;
      border: 1px solid #4caf50;
      background: #ffffff;
      color: #4caf50;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      text-decoration: none;
      text-align: center;
      display: inline-block;
      letter-spacing: -0.3px;
      border-radius: 4px;
    }
    
    .btn-cart {
      background: #ffffff;
      color: #4caf50;
      border: 1px solid #4caf50;
    }
    
    .btn-cart:hover {
      background: #f0f8f0;
      border-color: #66bb6a;
    }
    
    .btn-buy {
      background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
      color: #ffffff;
      border: none;
    }
    
    .btn-buy:hover {
      background: linear-gradient(135deg, #43a047 0%, #5cb660 100%);
    }
    
    .product-details {
      margin-top: 0;
      border-top: 1px solid #e5e5e5;
    }
    
    .tabs {
      display: flex;
      background: #ffffff;
      border-bottom: 1px solid #e5e5e5;
    }
    
    .tab {
      flex: 1;
      padding: 20px 0;
      background: #ffffff;
      border: none;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      color: #666666;
      transition: all 0.2s ease;
      border-bottom: 2px solid transparent;
    }
    
    .tab.active {
      color: #000000;
      border-bottom-color: #000000;
    }
    
    .tab-content {
      background: #ffffff;
      padding: 40px;
      display: none;
    }
    
    .tab-content.active {
      display: block;
    }
    
    .section-title {
      font-size: 16px;
      font-weight: 600;
      color: #4caf50;
      margin-bottom: 20px;
      letter-spacing: -0.3px;
    }
    
    .feature-list {
      list-style: none;
      padding: 0;
    }
    
    .feature-list li {
      margin-bottom: 12px;
      padding: 0;
      color: #333333;
      font-size: 14px;
      line-height: 1.6;
      position: relative;
      padding-left: 16px;
    }
    
    .feature-list li:before {
      content: "•";
      color: #000000;
      font-weight: bold;
      position: absolute;
      left: 0;
      top: 0;
    }
    
    .info-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      background: #ffffff;
      border: 1px solid #e5e5e5;
    }
    
    .info-table th {
      background: #f8f8f8;
      color: #000000;
      padding: 16px 20px;
      text-align: left;
      font-weight: 500;
      font-size: 14px;
      width: 30%;
      border-bottom: 1px solid #e5e5e5;
    }
    
    .info-table td {
      padding: 16px 20px;
      border-bottom: 1px solid #e5e5e5;
      word-wrap: break-word;
      font-size: 14px;
      color: #333333;
    }
    
    .info-table tr:last-child td {
      border-bottom: none;
    }
    
    .cooking-steps {
      counter-reset: step-counter;
      list-style: none;
      padding: 0;
    }
    
    .cooking-steps li {
      counter-increment: step-counter;
      margin-bottom: 16px;
      padding: 0 0 0 40px;
      position: relative;
      font-size: 14px;
      line-height: 1.6;
      color: #333333;
    }
    
    .cooking-steps li:before {
      content: counter(step-counter);
      position: absolute;
      left: 0;
      top: 0;
      background: #000000;
      color: #ffffff;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 500;
      font-size: 12px;
    }
    
    .faq-section {
      background: #ffffff;
      padding: 0;
      margin: 20px 0;
    }
    
    .faq-item {
      background: #ffffff;
      margin-bottom: 16px;
      border: 1px solid #e0ede1;
    }
    
    .faq-question {
      background: #ffffff;
      color: #000000;
      padding: 20px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s ease;
      font-size: 14px;
      border-bottom: 1px solid #e5e5e5;
    }
    
    .faq-question:hover {
      background: #f8f8f8;
    }
    
    .faq-answer {
      padding: 20px;
      background: #ffffff;
      color: #333333;
      font-size: 14px;
      line-height: 1.6;
    }
    
    
    .back-link {
      display: inline-block;
      margin: 20px 0;
      color: #666666;
      text-decoration: none;
      font-size: 14px;
      transition: color 0.2s ease;
    }
    
    .back-link:hover {
      color: #000000;
    }
    
    /* 커스텀 모달 스타일 */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
    }
    
    .modal-content {
      background-color: #ffffff;
      margin: 15% auto;
      padding: 30px;
      border: none;
      width: 90%;
      max-width: 400px;
      text-align: center;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }
    
    .modal-title {
      font-size: 18px;
      font-weight: 600;
      color: #000000;
      margin-bottom: 16px;
    }
    
    .modal-message {
      font-size: 14px;
      color: #333333;
      margin-bottom: 24px;
      line-height: 1.5;
    }
    
    .modal-button {
      background: #000000;
      color: #ffffff;
      border: none;
      padding: 12px 24px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      border-radius: 4px;
      transition: background 0.2s ease;
    }
    
    .modal-button:hover {
      background: #333333;
    }
    
    @media (max-width: 768px) {
      .product-content {
        grid-template-columns: 1fr;
        gap: 40px;
        padding: 20px;
      }
      
      .product-title {
        font-size: 20px;
      }
      
      .sale-price {
        font-size: 24px;
      }
      
      .purchase-buttons {
        flex-direction: column;
      }
      
      .tabs {
        flex-wrap: wrap;
      }
      
      .tab {
        min-width: 80px;
        padding: 16px 8px;
        font-size: 13px;
      }
      
      .container {
        padding: 0 16px;
      }
      
      .tab-content {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="index.html" class="back-link">← 상품 목록으로 돌아가기</a>
    
    <!-- 청양식 닭갈비 밀키트 -->
    <div class="product-card">
      <div class="product-header">
        <h1 class="product-title">청양식 닭갈비 밀키트</h1>
        <p class="product-subtitle">국산 닭정육 53.20%와 신선한 야채로 만든 프리미엄 밀키트</p>
      </div>
      
      <div class="product-content">
        <div class="product-images">
          <div class="image-gallery" id="gallery1">
            <div class="image-container">
              <img class="gallery-img" src="./images/img_prod1_1.jpeg" alt="청양식 닭갈비 밀키트 1" />
              <img class="gallery-img" src="./images/img_prod1_2.jpeg" alt="청양식 닭갈비 밀키트 2" />
              <img class="gallery-img" src="./images/img_prod1_3.jpeg" alt="청양식 닭갈비 밀키트 3" />
              <img class="gallery-img" src="./images/img_prod1_4.jpeg" alt="청양식 닭갈비 밀키트 4" />
              <img class="gallery-img" src="./images/img_prod1_5.jpeg" alt="청양식 닭갈비 밀키트 5" />
              <img class="gallery-img" src="./images/gif_prod1.gif" alt="청양식 닭갈비 밀키트 조리 과정" />
            </div>
            <button class="gallery-nav prev" onclick="changeSlide('gallery1', -1)">‹</button>
            <button class="gallery-nav next" onclick="changeSlide('gallery1', 1)">›</button>
            <div class="gallery-dots">
              <span class="dot active" onclick="currentSlide('gallery1', 0)"></span>
              <span class="dot" onclick="currentSlide('gallery1', 1)"></span>
              <span class="dot" onclick="currentSlide('gallery1', 2)"></span>
              <span class="dot" onclick="currentSlide('gallery1', 3)"></span>
              <span class="dot" onclick="currentSlide('gallery1', 4)"></span>
              <span class="dot" onclick="currentSlide('gallery1', 5)"></span>
            </div>
          </div>
        </div>
        
        <div class="product-info">
          <div class="price-section">
            <div class="original-price">정상가 15,000원</div>
            <div class="sale-price">10,000원</div>
            <div class="discount-badge">33% 할인</div>
          </div>
          
          <div class="purchase-section">
            <div class="quantity-selector">
              <span class="quantity-label">수량</span>
              <div class="quantity-controls">
                <button class="quantity-btn" onclick="changeQuantity('product1', -1)">-</button>
                <input type="number" class="quantity-input" id="quantity1" value="1" min="1" max="10">
                <button class="quantity-btn" onclick="changeQuantity('product1', 1)">+</button>
              </div>
            </div>
            <div class="purchase-buttons">
              <button class="btn btn-cart" onclick="addToCart('product1')">장바구니</button>
              <button class="btn btn-buy" onclick="buyNow('product1')">바로구매</button>
            </div>
          </div>
        </div>
      </div>

      <div class="product-details">
        <div class="tabs">
          <button class="tab active" onclick="showTab('product1', 'features')">상품특징</button>
          <button class="tab" onclick="showTab('product1', 'info')">상품정보</button>
          <button class="tab" onclick="showTab('product1', 'cooking')">조리방법</button>
          <button class="tab" onclick="showTab('product1', 'delivery')">배송안내</button>
          <button class="tab" onclick="showTab('product1', 'faq')">Q&A</button>
        </div>
        
        <div id="product1-features" class="tab-content active">
          <div class="section-title">상품 특징</div>
          <ul class="feature-list">
            <li>국산 닭정육 53.20%와 국산 야채(양배추, 대파, 깻잎, 고구마), 그리고 국산 떡으로 구성된 닭갈비 밀키트</li>
            <li>20년 경력 식품연구원의 노하우를 담아 닭갈비 전문점의 맛 구현</li>
            <li>프라이팬에 간편하게 10분 내 조리 가능</li>
            <li>2~3인이 즐길 수 있는 470g의 넉넉한 양</li>
          </ul>

          <div class="section-title">구성품 안내</div>
          <table class="info-table">
            <tr><th>구성품</th><td>양념된 닭정육, 닭갈비용 야채와 떡</td></tr>
            <tr><th>중량</th><td>총 470g (2-3인분)</td></tr>
            <tr><th>포장</th><td>종이 및 비닐류 사용</td></tr>
            <tr><th>보관방법</th><td>냉장 (0~10℃)</td></tr>
            <tr><th>유통기한</th><td>제조일로부터 7일 이내</td></tr>
          </table>
        </div>
        
        <div id="product1-info" class="tab-content">
          <div class="section-title">제품 정보</div>
          <table class="info-table">
            <tr><th>식품유형</th><td>즉석조리식품</td></tr>
            <tr><th>표시사항</th><td>닭정육 53.20%(닭: 국산), 양배추(국산), 대파(국산), 백설탕, 떡[쌀(국산), 정제소금(국내산), 옥배유], 고춧가루, 깻잎(국산), 고구마(국산), 복합조미식품1, 복합조미식품2, 옥수수전분, 정제소금, 식물성크림, L-글루탐산나트륨(향미증진제), 마늘분말, 양파분말, 카레분말, 생강분말, 흑후추분말</td></tr>
            <tr><th>품목제조보고번호</th><td>202506831460</td></tr>
            <tr><th>제조원</th><td>그로스피크에프앤씨(010-3957-0600) / 충남 천안시 서북구 천안대로 1223-24, 산학협력관 211~213호</td></tr>
          </table>
        </div>
        
        <div id="product1-cooking" class="tab-content">
          <div class="section-title">조리방법</div>
          <ol class="cooking-steps">
            <li>프라이팬에 식용유를 두르고 가열합니다</li>
            <li>모든 원료를 넣고 약 10분간 충분히 익을 때까지 조리합니다.</li>
            <li>접시에 담아 완성합니다.</li>
          </ol>
          <div class="faq-section">
            <p><strong>*야채는 세척하여 조리하시기 바랍니다.</strong></p>
          </div>
        </div>

        <div id="product1-delivery" class="tab-content">
          <div class="section-title">배송 및 교환 안내</div>
          <ul class="feature-list">
            <li>신선식품 특성상 단순 변심에 의한 교환/환불이 불가합니다.</li>
            <li>상품에 이상이 있을 경우, 수령 후 24시간 이내 연락 바랍니다.</li>
          </ul>
        </div>
        
        <div id="product1-faq" class="tab-content">
          <div class="section-title">자주 묻는 질문</div>
          <div class="faq-section">
            <div class="faq-item">
              <div class="faq-question">Q: 밀키트 수령 후 바로 조리해야 하나요?</div>
              <div class="faq-answer">A: 수령 후 반드시 냉장보관하시고 소비기한 내 섭취하세요</div>
            </div>
            <div class="faq-item">
              <div class="faq-question">Q: 알레르기 성분은 무엇인가요?</div>
              <div class="faq-answer">A: 쇠고기, 대두, 우유, 밀 등이 포함되어 있습니다.</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 커스텀 모달 -->
  <div id="customModal" class="modal">
    <div class="modal-content">
      <div class="modal-title">청양식 밀키트 전문몰</div>
      <div class="modal-message" id="modalMessage"></div>
      <button class="modal-button" onclick="closeModal()">확인</button>
    </div>
  </div>

<script>
// 각 갤러리의 상태를 저장
let galleryStates = {};

// 상품명 매핑
const productNames = {
  'product1': '청양식 닭갈비 밀키트',
  'product2': '청양식 한우육개장 밀키트', 
  'product3': '표고와사비장'
};

// 탭 기능
function showTab(productId, tabName) {
  // 모든 탭 버튼과 콘텐츠에서 active 클래스 제거
  const productCard = document.querySelector(`#${productId}-features`).closest('.product-card');
  const tabs = productCard.querySelectorAll('.tab');
  const tabContents = productCard.querySelectorAll('.tab-content');
  
  tabs.forEach(tab => tab.classList.remove('active'));
  tabContents.forEach(content => content.classList.remove('active'));
  
  // 선택된 탭과 콘텐츠에 active 클래스 추가
  event.target.classList.add('active');
  document.getElementById(`${productId}-${tabName}`).classList.add('active');
}

// 수량 변경 기능
function changeQuantity(productId, change) {
  const quantityInput = document.getElementById(`quantity${productId.slice(-1)}`);
  let currentQuantity = parseInt(quantityInput.value);
  let newQuantity = currentQuantity + change;
  
  if (newQuantity >= 1 && newQuantity <= 10) {
    quantityInput.value = newQuantity;
  }
}

// 모달 열기
function showModal(message) {
  document.getElementById('modalMessage').textContent = message;
  document.getElementById('customModal').style.display = 'block';
}

// 모달 닫기
function closeModal() {
  document.getElementById('customModal').style.display = 'none';
}

// 장바구니 추가 기능
function addToCart(productId) {
  const quantity = document.getElementById(`quantity${productId.slice(-1)}`).value;
  const productName = productNames[productId] || productId;
  showModal(`${productName} ${quantity}개가 장바구니에 추가되었습니다!`);
}

// 바로구매 기능
function buyNow(productId) {
  const quantity = document.getElementById(`quantity${productId.slice(-1)}`).value;
  const productName = productNames[productId] || productId;
  showModal(`${productName} ${quantity}개를 바로구매합니다!`);
}

// 갤러리 초기화 함수
function initializeGallery(galleryId) {
  const gallery = document.getElementById(galleryId);
  const container = gallery.querySelector('.image-container');
  const originalImages = container.querySelectorAll('.gallery-img');
  
  // 원본 이미지들을 배열로 저장
  const imageSources = Array.from(originalImages).map(img => ({
    src: img.src,
    alt: img.alt
  }));
  
  // 갤러리 상태 저장
  galleryStates[galleryId] = {
    currentIndex: 0,
    totalImages: imageSources.length,
    isAnimating: false,
    imageSources: imageSources,
    isInitialized: false,
    autoSlideInterval: null,
    autoSlideDelay: 3000 // 3초마다 자동 슬라이드
  };
  
  // 무한 스크롤을 위해 이미지 복제
  setupInfiniteScroll(galleryId, imageSources);
}

// 무한 스크롤 설정
function setupInfiniteScroll(galleryId, imageSources) {
  const gallery = document.getElementById(galleryId);
  const container = gallery.querySelector('.image-container');
  const state = galleryStates[galleryId];
  
  // 컨테이너 초기화
  container.innerHTML = '';
  
  // 이미지 개수에 따라 동적으로 복제
  const totalImages = imageSources.length;
  
  // 앞에 마지막 이미지 추가 (이전 버튼용)
  const lastImg = createImageElement(imageSources[totalImages - 1]);
  container.appendChild(lastImg);
  
  // 원본 이미지들 추가
  imageSources.forEach(imgData => {
    const img = createImageElement(imgData);
    container.appendChild(img);
  });
  
  // 뒤에 첫 번째 이미지 추가 (다음 버튼용)
  const firstImg = createImageElement(imageSources[0]);
  container.appendChild(firstImg);
  
  // 컨테이너 너비 조정
  const totalWidth = (totalImages + 2) * 100; // +2는 복제된 이미지들
  container.style.width = `${totalWidth}%`;
  
  // 각 이미지 너비 조정
  const imageWidth = 100 / (totalImages + 2);
  container.querySelectorAll('.gallery-img').forEach(img => {
    img.style.width = `${imageWidth}%`;
  });
  
  // 갤러리 상태 업데이트
  state.containerWidth = totalWidth;
  state.imageWidth = imageWidth;
  state.isInitialized = true;
  
  // 초기 위치 설정 (첫 번째 원본 이미지가 보이도록)
  container.style.transition = 'none';
  container.style.transform = `translateX(-${imageWidth}%)`;
  
  // 다음 프레임에서 애니메이션 활성화
  requestAnimationFrame(() => {
    container.style.transition = 'transform 0.5s ease-in-out';
  });
  
  // 자동 슬라이드 시작
  startAutoSlide(galleryId);
}

// 이미지 엘리먼트 생성
function createImageElement(imgData) {
  const img = document.createElement('img');
  img.className = 'gallery-img';
  img.src = imgData.src;
  img.alt = imgData.alt;
  return img;
}

// 슬라이드 변경 함수
function changeSlide(galleryId, direction) {
  const state = galleryStates[galleryId];
  if (!state || state.isAnimating || !state.isInitialized) return;
  
  const gallery = document.getElementById(galleryId);
  const container = gallery.querySelector('.image-container');
  const dots = gallery.querySelectorAll('.dot');
  
  // 사용자 조작 시 자동 슬라이드 일시 중지
  stopAutoSlide(galleryId);
  
  state.isAnimating = true;
  
  // 현재 인덱스 업데이트
  state.currentIndex += direction;
  
  // 이동할 위치 계산
  const newTranslateX = -(state.currentIndex + 1) * state.imageWidth;
  container.style.transform = `translateX(${newTranslateX}%)`;
  
  // 애니메이션 완료 후 위치 조정
  setTimeout(() => {
    // 마지막 이미지에서 다음으로 이동한 경우
    if (state.currentIndex >= state.totalImages) {
      state.currentIndex = 0;
      container.style.transition = 'none';
      container.style.transform = `translateX(-${state.imageWidth}%)`;
      setTimeout(() => {
        container.style.transition = 'transform 0.5s ease-in-out';
        state.isAnimating = false;
      }, 10);
    }
    // 첫 번째 이미지에서 이전으로 이동한 경우
    else if (state.currentIndex < 0) {
      state.currentIndex = state.totalImages - 1;
      container.style.transition = 'none';
      container.style.transform = `translateX(-${state.totalImages * state.imageWidth}%)`;
      setTimeout(() => {
        container.style.transition = 'transform 0.5s ease-in-out';
        state.isAnimating = false;
      }, 10);
    } else {
      state.isAnimating = false;
    }
    
    // 도트 업데이트
    dots.forEach((dot, index) => {
      dot.classList.toggle('active', index === state.currentIndex);
    });
    
    // 애니메이션 완료 후 자동 슬라이드 재시작
    setTimeout(() => {
      restartAutoSlide(galleryId);
    }, 1000); // 1초 후 자동 슬라이드 재시작
  }, 500);
}

// 특정 슬라이드로 이동
function currentSlide(galleryId, slideIndex) {
  const state = galleryStates[galleryId];
  if (!state || state.isAnimating || !state.isInitialized) return;
  
  const gallery = document.getElementById(galleryId);
  const container = gallery.querySelector('.image-container');
  const dots = gallery.querySelectorAll('.dot');
  
  // 사용자 조작 시 자동 슬라이드 일시 중지
  stopAutoSlide(galleryId);
  
  state.isAnimating = true;
  state.currentIndex = slideIndex;
  
  // 슬라이드 이동
  const translateX = -(slideIndex + 1) * state.imageWidth;
  container.style.transform = `translateX(${translateX}%)`;
  
  // 도트 업데이트
  dots.forEach((dot, index) => {
    dot.classList.toggle('active', index === slideIndex);
  });
  
  setTimeout(() => {
    state.isAnimating = false;
    // 애니메이션 완료 후 자동 슬라이드 재시작
    setTimeout(() => {
      restartAutoSlide(galleryId);
    }, 1000); // 1초 후 자동 슬라이드 재시작
  }, 500);
}

// 자동 슬라이드 시작
function startAutoSlide(galleryId) {
  const state = galleryStates[galleryId];
  if (!state || state.autoSlideInterval) return;
  
  state.autoSlideInterval = setInterval(() => {
    changeSlide(galleryId, 1);
  }, state.autoSlideDelay);
}

// 자동 슬라이드 중지
function stopAutoSlide(galleryId) {
  const state = galleryStates[galleryId];
  if (!state || !state.autoSlideInterval) return;
  
  clearInterval(state.autoSlideInterval);
  state.autoSlideInterval = null;
}

// 자동 슬라이드 재시작
function restartAutoSlide(galleryId) {
  stopAutoSlide(galleryId);
  startAutoSlide(galleryId);
}




// 페이지 로드 시 모든 갤러리 초기화
document.addEventListener('DOMContentLoaded', function() {
  // 즉시 초기화하여 스크롤 효과 방지
    initializeGallery('gallery1');
});
</script>

</body>
</html>
